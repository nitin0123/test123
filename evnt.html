<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>OAM -> Gigya</title>
    <!-- Bootstrap CSS file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	</head>
<body>
    <nav class="navbar navbar-light bg-light">
		<span class="navbar-brand mb-0 h1">Events Sent by CDG to Gigya</span>
	</nav>
	    <div class="container">
			<!--Row with three equal columns-->
			<div class="row">
				<div class="col-lg-12">
					<div id="container" style="height: 600px;min-width: 310px"></div>
				</div>
			</div>
		</div>
	
    <!-- JS files: jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
	
	<!-- highcharts js -->
	<script src="https://code.highcharts.com/stock/highstock.js"></script>
	<script src="https://code.highcharts.com/stock/modules/data.js"></script>
</body>
</html>





<script>

function success(data) {
    var name = this.url.match(/(accountCreated|passwordUpdate)/)[0];
    var i = names.indexOf(name);
    seriesOptions[i] = {
        name: name,
        data: data,
		tooltip: {
                valueDecimals: 0
            }
    };

    // As we're loading the data asynchronously, we don't know what order it
    // will arrive. So we keep a counter and create the chart when all the data is loaded.
    seriesCounter += 1;

    if (seriesCounter === names.length) {
        createChart();
    }
}

var seriesOptions = [],
    seriesCounter = 0,
    names = ['passwordUpdate', 'accountCreated'];

function createChart() {

    Highcharts.stockChart('container', {

        rangeSelector: {
            selected: 0
        },

		chart : {
			plotBorderColor: '#9E9E9E',
			plotBorderWidth: 1				
		},

        legend: {
            enabled: true
        },
		
		credits: {
			enabled: false
		},
		
        series: seriesOptions
    });
}


Highcharts.getJSON(
    'https://raw.githubusercontent.com/nitin0123/test123/master/passwordUpdate.json',
    success
);
Highcharts.getJSON(
    'https://raw.githubusercontent.com/nitin0123/test123/master/accountCreated.json',
    success
);

/*
Highcharts.getJSON('https://raw.githubusercontent.com/nitin0123/test123/master/pu.json', function (data) {
    // Create the chart
    Highcharts.stockChart('container', {

	rangeSelector: {
		selected : 0
		},		

        title: {
            text: 'OAM -> Gigya Events'
        },

        series: [{
            name: 'Password Update',
            data: data
        }]
    });
});
*/

/*
var seriesOptions = [],
    seriesCounter = 0,
    names = ['MSFT', 'AAPL', 'GOOG'];

function createChart() {

    Highcharts.stockChart('container', {

        rangeSelector: {
            selected: 0
        },

        yAxis: {
            labels: {
                formatter: function () {
                    return (this.value > 0 ? ' + ' : '') + this.value + '%';
                }
            },
            plotLines: [{
                value: 0,
                width: 2,
                color: 'silver'
            }]
        },

        plotOptions: {
            series: {
                compare: 'percent',
                showInNavigator: true
            }
        },

        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.change}%)<br/>',
            valueDecimals: 2,
            split: true
        },

        series: seriesOptions
    });
}

function success(data) {
    var name = this.url.match(/(msft|aapl|goog)/)[0].toUpperCase();
    var i = names.indexOf(name);
    seriesOptions[i] = {
        name: name,
        data: data
    };

    // As we're loading the data asynchronously, we don't know what order it
    // will arrive. So we keep a counter and create the chart when all the data is loaded.
    seriesCounter += 1;

    if (seriesCounter === names.length) {
        createChart();
    }
}

Highcharts.getJSON(
    'https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/msft-c.json',
    success
);
Highcharts.getJSON(
    'https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/aapl-c.json',
    success
);
Highcharts.getJSON(
    'https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/goog-c.json',
    success
);
*/

</script>
